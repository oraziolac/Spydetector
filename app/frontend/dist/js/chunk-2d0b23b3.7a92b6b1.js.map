{"version":3,"sources":["webpack:///./src/views/analysis.vue","webpack:///src/views/analysis.vue","webpack:///./src/views/analysis.vue?07b8","webpack:///./src/views/analysis.vue?20bb"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","long_waiting","_e","_v","_s","$t","staticRenderFns","name","data","check_alerts","props","capture_token","String","methods","start_analysis","console","log","setTimeout","bind","axios","get","timeout","then","response","message","setInterval","get_alerts","catch","error","clearInterval","router","replace","params","alerts","device","pcap","records","created","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,OAAO,WAAa,OAAO,QAAU,QAAQ,kBAAkB,QAAQC,MAAM,CAAC,MAAQ,6BAA6B,cAAc,+BAA+B,MAAQ,QAAQ,OAAS,QAAQ,QAAU,cAAc,oBAAsB,aAAa,CAACJ,EAAG,SAAS,CAACI,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,KAAO,OAAO,OAAS,UAAU,eAAe,MAAM,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,cAAgB,IAAI,YAAc,aAAa,IAAM,qBAAqB,OAAS,OAAO,SAAW,MAAM,WAAa,cAAc,SAAW,SAAS,MAAQ,QAAQJ,EAAG,UAAU,CAACI,MAAM,CAAC,cAAgB,UAAU,YAAc,aAAa,IAAM,qBAAqB,OAAS,MAAM,SAAW,MAAM,WAAa,cAAc,SAAW,SAAS,MAAQ,UAAUJ,EAAG,SAAS,CAACI,MAAM,CAAC,GAAK,KAAK,GAAK,KAAK,EAAI,IAAI,KAAO,OAAO,OAAS,UAAU,eAAe,MAAM,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,cAAgB,IAAI,YAAc,aAAa,IAAM,qBAAqB,OAAS,OAAO,SAAW,MAAM,WAAa,cAAc,SAAW,SAAS,MAAQ,0BAA0BJ,EAAG,UAAU,CAACI,MAAM,CAAC,cAAgB,UAAU,YAAc,aAAa,IAAM,qBAAqB,OAAS,MAAM,SAAW,MAAM,WAAa,cAAc,SAAW,SAAS,MAAQ,8BAAgCN,EAAIO,aAAkGP,EAAIQ,KAAxFN,EAAG,IAAI,CAACE,YAAY,UAAU,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,gCAA0CX,EAAIO,aAAcL,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,8BAA8BX,EAAIQ,UAE/nDI,EAAkB,G,iCCoBP,GACfC,KAAA,WACAC,OACA,OACAC,cAAA,EACAR,cAAA,IAGAS,MAAA,CACAC,cAAAC,QAEAC,QAAA,CACAC,eAAA,WACAC,QAAAC,IAAA,2CACAC,WAAA,gBAAAhB,cAAA,GAAAiB,KAAA,YACAC,IAAAC,IAAA,4BAAAT,cAAA,CAAAU,QAAA,MACAC,KAAAC,IACA,oBAAAA,EAAAf,KAAAgB,UACA,KAAAf,aAAAgB,YAAA,UAAAC,cAAA,QAEAC,MAAAC,IACAb,QAAAC,IAAAY,MAGAF,WAAA,WACAP,IAAAC,IAAA,6BAAAT,cAAA,CAAAU,QAAA,MACAC,KAAAC,IACA,iBAAAA,EAAAf,KAAAgB,SACAT,QAAAC,IAAA,kEACAa,cAAA,KAAApB,cACA,KAAAR,cAAA,EACA6B,OAAAC,QAAA,CAAAxB,KAAA,SACAyB,OAAA,CAAAC,OAAAV,EAAAf,KAAAyB,OACAC,OAAAX,EAAAf,KAAA0B,OACArB,QAAAU,EAAAf,KAAAK,QACAsB,KAAAZ,EAAAf,KAAA2B,KACAC,QAAAb,EAAAf,KAAA4B,QACAzB,cAAA,KAAAA,kBAEAI,QAAAC,IAAA,4CAGAW,MAAAC,IACAb,QAAAC,IAAAY,OAIAS,QAAA,WACAtB,QAAAC,IAAA,uCACA,KAAAF,mBCvEiV,I,YCO7UwB,EAAY,eACd,EACA7C,EACAa,GACA,EACA,KACA,KACA,MAIa,aAAAgC,E","file":"js/chunk-2d0b23b3.7a92b6b1.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"center\"},[_c('svg',{staticStyle:{\"margin\":\"auto\",\"background\":\"none\",\"display\":\"block\",\"shape-rendering\":\"auto\"},attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"width\":\"194px\",\"height\":\"194px\",\"viewBox\":\"0 0 100 100\",\"preserveAspectRatio\":\"xMidYMid\"}},[_c('circle',{attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"0\",\"fill\":\"none\",\"stroke\":\"#dfdfdf\",\"stroke-width\":\"1\"}},[_c('animate',{attrs:{\"attributeName\":\"r\",\"repeatCount\":\"indefinite\",\"dur\":\"2.941176470588235s\",\"values\":\"0;43\",\"keyTimes\":\"0;1\",\"keySplines\":\"0 0.2 0.8 1\",\"calcMode\":\"spline\",\"begin\":\"0s\"}}),_c('animate',{attrs:{\"attributeName\":\"opacity\",\"repeatCount\":\"indefinite\",\"dur\":\"2.941176470588235s\",\"values\":\"1;0\",\"keyTimes\":\"0;1\",\"keySplines\":\"0.2 0 0.8 1\",\"calcMode\":\"spline\",\"begin\":\"0s\"}})]),_c('circle',{attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"0\",\"fill\":\"none\",\"stroke\":\"#dadada\",\"stroke-width\":\"1\"}},[_c('animate',{attrs:{\"attributeName\":\"r\",\"repeatCount\":\"indefinite\",\"dur\":\"2.941176470588235s\",\"values\":\"0;43\",\"keyTimes\":\"0;1\",\"keySplines\":\"0 0.2 0.8 1\",\"calcMode\":\"spline\",\"begin\":\"-1.4705882352941175s\"}}),_c('animate',{attrs:{\"attributeName\":\"opacity\",\"repeatCount\":\"indefinite\",\"dur\":\"2.941176470588235s\",\"values\":\"1;0\",\"keyTimes\":\"0;1\",\"keySplines\":\"0.2 0 0.8 1\",\"calcMode\":\"spline\",\"begin\":\"-1.4705882352941175s\"}})])]),(!_vm.long_waiting)?_c('p',{staticClass:\"legend\"},[_vm._v(_vm._s(_vm.$t(\"analysis.please_wait_msg\")))]):_vm._e(),(_vm.long_waiting)?_c('p',{staticClass:\"legend fade-in\"},[_vm._v(_vm._s(_vm.$t(\"analysis.some_time_msg\")))]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"center\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin: auto; background: none; display: block; shape-rendering: auto;\" width=\"194px\" height=\"194px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n                <circle cx=\"50\" cy=\"50\" r=\"0\" fill=\"none\" stroke=\"#dfdfdf\" stroke-width=\"1\">\r\n                <animate attributeName=\"r\" repeatCount=\"indefinite\" dur=\"2.941176470588235s\" values=\"0;43\" keyTimes=\"0;1\" keySplines=\"0 0.2 0.8 1\" calcMode=\"spline\" begin=\"0s\"></animate>\r\n                <animate attributeName=\"opacity\" repeatCount=\"indefinite\" dur=\"2.941176470588235s\" values=\"1;0\" keyTimes=\"0;1\" keySplines=\"0.2 0 0.8 1\" calcMode=\"spline\" begin=\"0s\"></animate>\r\n                </circle><circle cx=\"50\" cy=\"50\" r=\"0\" fill=\"none\" stroke=\"#dadada\" stroke-width=\"1\">\r\n                <animate attributeName=\"r\" repeatCount=\"indefinite\" dur=\"2.941176470588235s\" values=\"0;43\" keyTimes=\"0;1\" keySplines=\"0 0.2 0.8 1\" calcMode=\"spline\" begin=\"-1.4705882352941175s\"></animate>\r\n                <animate attributeName=\"opacity\" repeatCount=\"indefinite\" dur=\"2.941176470588235s\" values=\"1;0\" keyTimes=\"0;1\" keySplines=\"0.2 0 0.8 1\" calcMode=\"spline\" begin=\"-1.4705882352941175s\"></animate>\r\n                </circle>\r\n            </svg>\r\n            <p class=\"legend\" v-if=\"!long_waiting\">{{ $t(\"analysis.please_wait_msg\") }}</p>\r\n            <p class=\"legend fade-in\" v-if=\"long_waiting\">{{ $t(\"analysis.some_time_msg\") }}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '../router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    name: 'analysis',   \r\n    data() {\r\n        return {\r\n            check_alerts: false,\r\n            long_waiting: false\r\n        }\r\n    },\r\n    props: {\r\n        capture_token: String\r\n    },\r\n    methods: {\r\n        start_analysis: function() {\r\n            console.log(\"[analysis.vue] Starting the analysis...\");\r\n            setTimeout(function () { this.long_waiting = true }.bind(this), 15000);\r\n            axios.get(`/api/analysis/start/${this.capture_token}`, { timeout: 60000 })\r\n                .then(response => {\r\n                    if(response.data.message == 'Analysis started')\r\n                        this.check_alerts = setInterval(() => { this.get_alerts(); }, 500);\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n        get_alerts: function() {\r\n            axios.get(`/api/analysis/report/${this.capture_token}`, { timeout: 60000 })\r\n                .then(response => {\r\n                    if(response.data.message != 'No report yet'){\r\n                        console.log(\"[analysis.vue] Got the results analysis, moving to report view\");\r\n                        clearInterval(this.check_alerts);\r\n                        this.long_waiting = false\r\n                        router.replace({ name: 'report', \r\n                                         params: { alerts : response.data.alerts, \r\n                                                   device : response.data.device,\r\n                                                   methods : response.data.methods, \r\n                                                   pcap : response.data.pcap,  \r\n                                                   records : response.data.records,  \r\n                                                   capture_token : this.capture_token } });\r\n                    } else {\r\n                        console.log(\"[analysis.vue] No analysis results yet\");\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n    },\r\n    created: function() {\r\n        console.log(\"[analysis.vue] Showing analysis.vue\");\r\n        this.start_analysis();\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./analysis.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./analysis.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./analysis.vue?vue&type=template&id=18787c62\"\nimport script from \"./analysis.vue?vue&type=script&lang=js\"\nexport * from \"./analysis.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}